#include <stdio.h>
#include <stdlib.h>
#include<string.h>
#include "astronauta.h"


#define maxCaracteres 50
#define cantEspecialidades 5
#define cantNacionalidades 10



typedef struct
{

    int ID;
    char nombre[maxCaracteres];
    char apellido[maxCaracteres];
    char apodo[maxCaracteres];
    int edad;
    char nacionalidad[maxCaracteres];
    char especialidad[maxCaracteres];
    int horasVueloAcumuladas;
    int misionesEspacialesRealizadas;
    int horasAcumuladasEEI;
    int estado;
} astronauta;


//Declaracion de funciones


void cargarNombre(astronauta astro);
astronauta cargarAstronautaNuevo();
void cargarApellido(astronauta astro);
void mostrarDatosAstronauta(astronauta astronauta);
void cargarApodo(astronauta astro);

astronauta cargarNacionalidad();
int cargarEdad();
void mostrarNacionalidades(char nacionalidades[cantNacionalidades][maxCaracteres]);
void nacionalidadesAstronauta(char nacionalidades[cantNacionalidades][maxCaracteres]);
astronauta cargarEspecialidad();
void mostrarEspecialidades(char especialidades[][maxCaracteres]);
void especialidadesAstronauta(char especialidades[][maxCaracteres]);




int main()
{
    cargarAstronautaNuevo();


    return 0;

}

//Main


// ------Selecciona la especialidad
astronauta cargarEspecialidad()
{

    int seleccion;
    astronauta dato;

    char especialidades[cantEspecialidades][maxCaracteres];
    especialidadesAstronauta(especialidades);

    printf("Seleccione la especialidad \n");
    mostrarEspecialidades(especialidades);
    scanf("%i", &seleccion);

    while (seleccion >= cantEspecialidades)
    {

        printf("Opcion inexistente, pruebe con una opcion del menu \n");
        scanf("%i", &seleccion);
    }

    strcpy(dato.especialidad,especialidades[seleccion]);


    return dato;
}

//---------Muestra las especialidades------

void mostrarEspecialidades(char especialidades[][maxCaracteres])
{

    int i = 0;

    while (i< cantEspecialidades)
    {

        printf( "%i = ", i);
        printf("%s \n", especialidades[i]);


        i++;
    }
}


//----Especialidades almacenadas---------
void especialidadesAstronauta(char especialidades[][maxCaracteres])
{


    printf("\n");
    strcpy(especialidades[0], "Piloto");
    strcpy(especialidades[1], "Astrofisico");
    strcpy(especialidades[2], "Ingeniero Espacial");
    strcpy(especialidades[3], "Biologo");
    strcpy(especialidades[4], "Comericial");
}


//---------------------------------MAIN------------------------------------




astronauta cargarAstronautaNuevo(astronauta astro)
{



    cargarNombre(astro);
    cargarApellido(astro);
    cargarApodo(astro);
    astro = cargarNacionalidad();
    astro = cargarEspecialidad();
    astro.edad = cargarEdad();

    mostrarDatosAstronauta(astro);

}


void cargarNombre(astronauta astro)
{
    char nombre[maxCaracteres];

    printf("\nNombre: ");

    fflush(stdin);
    gets(nombre);
    strcpy(astro.nombre,nombre);


}
//----------------------------
void cargarApellido(astronauta astro)
{

char apellido[maxCaracteres];


    printf("\nApellido: ");

    fflush(stdin);

    gets(apellido);

    strcpy(astro.apellido, apellido);


}

void cargarApodo(astronauta astro)
{

    char apodo[maxCaracteres];
    printf("\nApodo: ");
    fflush(stdin);
    gets(apodo);


    strcpy(astro.apodo,apodo);


}


void mostrarDatosAstronauta(astronauta astro)
{

    printf("\nNOMBRE: %s", astro.nombre);
    printf("\nAPELLIDO: %s", astro.apellido);
    printf("\nAPODO: %s", astro.apodo);
    printf("\nESPECIALIDAD: %s", astro.especialidad);
    printf("\nNACIONALIDAD: %s", astro.nacionalidad);
    printf("\nEDAD: %i", astro.edad);

    printf("\n");

}




astronauta cargarNacionalidad()
{


     int seleccion;
    astronauta dato;

    char nacionalidades[cantNacionalidades][maxCaracteres];
    nacionalidadesAstronauta(nacionalidades);


    printf("Seleccione la Nacionalidad \n");

    mostrarNacionalidades(nacionalidades);
    scanf("%i", &seleccion);

    while (seleccion >= cantNacionalidades)
    {

        printf("Opcion inexistente, pruebe con una opcion del menu \n");
        scanf("%i", &seleccion);
    }

    strcpy(dato.nacionalidad,nacionalidades[seleccion]);


    return dato;




}

void nacionalidadesAstronauta(char nacionalidades[cantNacionalidades][maxCaracteres])
{

    strcpy(nacionalidades[0],"Alemania");
    strcpy(nacionalidades[1],"Argentina");
    strcpy(nacionalidades[2],"Brasil");
    strcpy(nacionalidades[3],"Canada");
    strcpy(nacionalidades[4],"China");
    strcpy(nacionalidades[5],"Espa√±a");
    strcpy(nacionalidades[6],"Estados Unidos");
    strcpy(nacionalidades[7],"Italia");
    strcpy(nacionalidades[8],"Japon");
    strcpy(nacionalidades[9],"Rusia");

}





void mostrarNacionalidades(char nacionalidades[cantNacionalidades][maxCaracteres])
{

    int i = 0;
    while(i < cantNacionalidades)
    {
        printf("%i = ", i);
        printf("%s\n", nacionalidades[i]);
        i++;
    }
}




int cargarEdad()
{

    int edad;

    printf("\nEdad: ");
    scanf("%i", &edad);


    return edad;

}









